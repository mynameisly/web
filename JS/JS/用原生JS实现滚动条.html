<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>新闻滚动条</title>
		<style type="text/css">
			*{margin:0;padding:0}
			body{height: 2000px;}
			.box{width: 800px;height:500px;border: 1px solid gray;margin: 100px auto;position:relative;overflow:hidden;}
			.bar{width:20px;height:500px;background:#ddd;position:absolute;top:0;right:0;}
			.slidebar{width:20px;height:66px;background:orange;position:absolute;top: 0;left:0;}
			.content{width: 740px;position:absolute;top: 0;left: 0;}
		</style>
	</head>
	<body>
		<div class="box" id="box">
			<div class="bar" id="bar">
				<b class="slidebar" id="slidebar"></b>
			</div>
			<div class="content" id="content">
				<p>朋友推荐去看来阿丽塔，影片里面有人类，有机器人，拥有高科技的过度，却也充满了杀戮，不经让我想起蛮荒社会下的人物。
					主人公阿丽塔无时无刻充满了主角光环，再生两次之后获得不死之躯，自身拥有治愈功能，还有史上最强格斗术，谁人都打不过的那种。
					所以呢，坏蛋是必死无疑的，只是分早晚而已。看完后还有第二部，但是本人对于科幻片是不咋感冒的，杀人的决绝似乎太残忍，虽然不是真实人物。
				</p>
				<p>朋友推荐去看来阿丽塔，影片里面有人类，有机器人，拥有高科技的过度，却也充满了杀戮，不经让我想起蛮荒社会下的人物。
					主人公阿丽塔无时无刻充满了主角光环，再生两次之后获得不死之躯，自身拥有治愈功能，还有史上最强格斗术，谁人都打不过的那种。
					所以呢，坏蛋是必死无疑的，只是分早晚而已。看完后还有第二部，但是本人对于科幻片是不咋感冒的，杀人的决绝似乎太残忍，虽然不是真实人物。
				</p>
				<p>朋友推荐去看来阿丽塔，影片里面有人类，有机器人，拥有高科技的过度，却也充满了杀戮，不经让我想起蛮荒社会下的人物。
					主人公阿丽塔无时无刻充满了主角光环，再生两次之后获得不死之躯，自身拥有治愈功能，还有史上最强格斗术，谁人都打不过的那种。
					所以呢，坏蛋是必死无疑的，只是分早晚而已。看完后还有第二部，但是本人对于科幻片是不咋感冒的，杀人的决绝似乎太残忍，虽然不是真实人物。
				</p>
				<p>朋友推荐去看来阿丽塔，影片里面有人类，有机器人，拥有高科技的过度，却也充满了杀戮，不经让我想起蛮荒社会下的人物。
					主人公阿丽塔无时无刻充满了主角光环，再生两次之后获得不死之躯，自身拥有治愈功能，还有史上最强格斗术，谁人都打不过的那种。
					所以呢，坏蛋是必死无疑的，只是分早晚而已。看完后还有第二部，但是本人对于科幻片是不咋感冒的，杀人的决绝似乎太残忍，虽然不是真实人物。
				</p>
				<p>朋友推荐去看来阿丽塔，影片里面有人类，有机器人，拥有高科技的过度，却也充满了杀戮，不经让我想起蛮荒社会下的人物。
					主人公阿丽塔无时无刻充满了主角光环，再生两次之后获得不死之躯，自身拥有治愈功能，还有史上最强格斗术，谁人都打不过的那种。
					所以呢，坏蛋是必死无疑的，只是分早晚而已。看完后还有第二部，但是本人对于科幻片是不咋感冒的，杀人的决绝似乎太残忍，虽然不是真实人物。
				</p>
				<p>朋友推荐去看来阿丽塔，影片里面有人类，有机器人，拥有高科技的过度，却也充满了杀戮，不经让我想起蛮荒社会下的人物。
					主人公阿丽塔无时无刻充满了主角光环，再生两次之后获得不死之躯，自身拥有治愈功能，还有史上最强格斗术，谁人都打不过的那种。
					所以呢，坏蛋是必死无疑的，只是分早晚而已。看完后还有第二部，但是本人对于科幻片是不咋感冒的，杀人的决绝似乎太残忍，虽然不是真实人物。
				</p>
				<p>朋友推荐去看来阿丽塔，影片里面有人类，有机器人，拥有高科技的过度，却也充满了杀戮，不经让我想起蛮荒社会下的人物。
					主人公阿丽塔无时无刻充满了主角光环，再生两次之后获得不死之躯，自身拥有治愈功能，还有史上最强格斗术，谁人都打不过的那种。
					所以呢，坏蛋是必死无疑的，只是分早晚而已。看完后还有第二部，但是本人对于科幻片是不咋感冒的，杀人的决绝似乎太残忍，虽然不是真实人物。
				</p>
				<p>朋友推荐去看来阿丽塔，影片里面有人类，有机器人，拥有高科技的过度，却也充满了杀戮，不经让我想起蛮荒社会下的人物。
					主人公阿丽塔无时无刻充满了主角光环，再生两次之后获得不死之躯，自身拥有治愈功能，还有史上最强格斗术，谁人都打不过的那种。
					所以呢，坏蛋是必死无疑的，只是分早晚而已。看完后还有第二部，但是本人对于科幻片是不咋感冒的，杀人的决绝似乎太残忍，虽然不是真实人物。
				</p>
				<p>朋友推荐去看来阿丽塔，影片里面有人类，有机器人，拥有高科技的过度，却也充满了杀戮，不经让我想起蛮荒社会下的人物。
					主人公阿丽塔无时无刻充满了主角光环，再生两次之后获得不死之躯，自身拥有治愈功能，还有史上最强格斗术，谁人都打不过的那种。
					所以呢，坏蛋是必死无疑的，只是分早晚而已。看完后还有第二部，但是本人对于科幻片是不咋感冒的，杀人的决绝似乎太残忍，虽然不是真实人物。
				</p>
				<p>朋友推荐去看来阿丽塔，影片里面有人类，有机器人，拥有高科技的过度，却也充满了杀戮，不经让我想起蛮荒社会下的人物。
					主人公阿丽塔无时无刻充满了主角光环，再生两次之后获得不死之躯，自身拥有治愈功能，还有史上最强格斗术，谁人都打不过的那种。
					所以呢，坏蛋是必死无疑的，只是分早晚而已。看完后还有第二部，但是本人对于科幻片是不咋感冒的，杀人的决绝似乎太残忍，虽然不是真实人物。
				</p>
				<p>朋友推荐去看来阿丽塔，影片里面有人类，有机器人，拥有高科技的过度，却也充满了杀戮，不经让我想起蛮荒社会下的人物。
					主人公阿丽塔无时无刻充满了主角光环，再生两次之后获得不死之躯，自身拥有治愈功能，还有史上最强格斗术，谁人都打不过的那种。
					所以呢，坏蛋是必死无疑的，只是分早晚而已。看完后还有第二部，但是本人对于科幻片是不咋感冒的，杀人的决绝似乎太残忍，虽然不是真实人物。
				</p>
				<p>朋友推荐去看来阿丽塔，影片里面有人类，有机器人，拥有高科技的过度，却也充满了杀戮，不经让我想起蛮荒社会下的人物。
					主人公阿丽塔无时无刻充满了主角光环，再生两次之后获得不死之躯，自身拥有治愈功能，还有史上最强格斗术，谁人都打不过的那种。
					所以呢，坏蛋是必死无疑的，只是分早晚而已。看完后还有第二部，但是本人对于科幻片是不咋感冒的，杀人的决绝似乎太残忍，虽然不是真实人物。
				</p>
				<p>朋友推荐去看来阿丽塔，影片里面有人类，有机器人，拥有高科技的过度，却也充满了杀戮，不经让我想起蛮荒社会下的人物。
					主人公阿丽塔无时无刻充满了主角光环，再生两次之后获得不死之躯，自身拥有治愈功能，还有史上最强格斗术，谁人都打不过的那种。
					所以呢，坏蛋是必死无疑的，只是分早晚而已。看完后还有第二部，但是本人对于科幻片是不咋感冒的，杀人的决绝似乎太残忍，虽然不是真实人物。
				</p>
				<p>朋友推荐去看来阿丽塔，影片里面有人类，有机器人，拥有高科技的过度，却也充满了杀戮，不经让我想起蛮荒社会下的人物。
					主人公阿丽塔无时无刻充满了主角光环，再生两次之后获得不死之躯，自身拥有治愈功能，还有史上最强格斗术，谁人都打不过的那种。
					所以呢，坏蛋是必死无疑的，只是分早晚而已。看完后还有第二部，但是本人对于科幻片是不咋感冒的，杀人的决绝似乎太残忍，虽然不是真实人物。
				</p>
				<p>朋友推荐去看来阿丽塔，影片里面有人类，有机器人，拥有高科技的过度，却也充满了杀戮，不经让我想起蛮荒社会下的人物。
					主人公阿丽塔无时无刻充满了主角光环，再生两次之后获得不死之躯，自身拥有治愈功能，还有史上最强格斗术，谁人都打不过的那种。
					所以呢，坏蛋是必死无疑的，只是分早晚而已。看完后还有第二部，但是本人对于科幻片是不咋感冒的，杀人的决绝似乎太残忍，虽然不是真实人物。
				</p>
				<p>朋友推荐去看来阿丽塔，影片里面有人类，有机器人，拥有高科技的过度，却也充满了杀戮，不经让我想起蛮荒社会下的人物。
					主人公阿丽塔无时无刻充满了主角光环，再生两次之后获得不死之躯，自身拥有治愈功能，还有史上最强格斗术，谁人都打不过的那种。
					所以呢，坏蛋是必死无疑的，只是分早晚而已。看完后还有第二部，但是本人对于科幻片是不咋感冒的，杀人的决绝似乎太残忍，虽然不是真实人物。
				</p>
			</div>
		</div>
		<script>
			var slidebar = document.getElementById("slidebar");
			var bar = document.getElementById("bar");
			var content = document.getElementById("content");
			var box = document.getElementById("box");
			
			//计算比例
			var rate = box.clientHeight/content.clientHeight;
			
			//根据比例把滑块的高度计算出来
			var slidebarHeight = bar.clientHeight*rate;
			slidebar.style.height = slidebarHeight+'px';
			
			//申明全局变量nowtop  记录content的top值
			var nowtop = 0;
			
			//在滑块上按下，实现滑块拖拽
			slidebar.onmousedown = function(event){
				//适配IE
				event = event || window.event;
				var deltaY = event.clientY - slidebar.offsetTop;
				document.onmousemove = function(event){
					event = event||window.event;
					
					//计算top值
					nowtop = event.clientY-deltaY;
					
					//对top验收
					if(nowtop<0) nowtop=0;
					if(nowtop>=bar.clientHeight - slidebar.clientHeight) nowtop = bar.clientHeight - slidebar.clientHeight;
					
					//赋值， 实现拖拽
					slidebar.style.top = nowtop +'px';
					
					//content根据比例，反方向运动
					content.style.top = -nowtop/rate + 'px';
					
					//干掉默认事件（不想选中文字）
					//event.preventDefault();
					return false;
				}
			}
			
			//鼠标在页面任何位置拾起，停止拖拽
			document.onmouseup = function(){
				document.onmousemove = null;
			}
			
			//鼠标滚轮事件
			function mouseWheelHandler(event){
				event = event||window.event;
				
				//阻止默认事件（在box中滚轮滚动，页面跟随滚动）
				if(event.preventDefault){
					event.preventDefault();
				}else{
					event.returnValue = false;
				}
				
				//向上是正，向下是负
				var direction;
				if(event.wheelDelta){
					direction = event.wheelDelta > 0 ? 1:-1;
				}else if(event.detail){
					direction = event.detail < 0 ? 1:-1;
				}
				
				//console.log(direction);
				
				nowtop += -direction*5;
				//对top值验收
				if(nowtop<0) nowtop=0;
				if(nowtop>=bar.clientHeight - slidebar.clientHeight)nowtop = bar.clientHeight - slidebar.clientHeight;
					
					//赋值， 实现拖拽
					slidebar.style.top = nowtop +'px';
					
					//content根据比例，反方向运动
					content.style.top = -nowtop/rate + 'px';
			}
			
			//给box添加鼠标滚轮事件
			box.onmousewheel = mouseWheelHandler;
			try{
				box.addEventListener('DOMMouseScroll',mouseWheelHandler,false);
			}catch(error){
				
			}
		</script>
	</body>
</html>
